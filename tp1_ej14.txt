

ORG 1000H
  VECTOR DW 15,12,-4,5
  LONG DW 4
 
ORG 3000H
SUMAR_PILA:
  PUSH AX
  PUSH BX
  PUSH CX
 
  MOV BX,SP

  ADD BX,8
  MOV CX,[BX] ;CX=LONG

 
  MOV AX,0
  CALL RECURSION
  POP CX
  POP CX
  POP CX
  RET
RECURSION:
  CMP CX,0
  JZ FIN_REC
  ADD BX,2
  DEC cx
  push bx
  CALL RECURSION
  pop bx
  mov dx,[bx]
  ADD AX,DX
FIN_REC:
 
  RET

ORG 2000H
  MOV CX, LONG
  MOV BX, OFFSET VECTOR
LOOP:
  MOV AX,[BX]   ;APILO VALORES DEL VECTOR
  PUSH AX
  ADD BX,2
  DEC CX        ;DECREMENTO LA LONGITUD DEL VECTOR
  JNZ LOOP      

  MOV CX,LONG  ;APILO LA LONGITUD DEL VECTOR
  PUSH CX  
  CALL SUMAR_PILA

LOOP2:
  POP BX
  DEC CX      ;POPEO (LONG) VECES PARA DESAPILAR VECTOR
  JNZ LOOP2
 
  HLT
END
